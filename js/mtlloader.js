!function(t){var e={};function r(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}({2:function(t,e,r){"use strict";THREE.MTLLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(t,e,r,a){var s=this,i=new THREE.FileLoader(this.manager);i.setPath(this.path),i.load(t,function(t){e(s.parse(t))},r,a)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split("\n"),r={},a=/\s+/,s={},i=0;i<e.length;i++){var o=e[i];if(0!==(o=o.trim()).length&&"#"!==o.charAt(0)){var n=o.indexOf(" "),l=n>=0?o.substring(0,n):o;l=l.toLowerCase();var p=n>=0?o.substring(n+1):"";if(p=p.trim(),"newmtl"===l)r={name:p},s[p]=r;else if(r)if("ka"===l||"kd"===l||"ks"===l){var u=p.split(a,3);r[l]=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])]}else r[l]=p}}var c=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return c.setCrossOrigin(this.crossOrigin),c.setManager(this.manager),c.setMaterials(s),c}},THREE.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var r in t){var a=t[r],s={};for(var i in e[r]=s,a){var o=!0,n=a[i],l=i.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[l]=n)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,r=this.materialsInfo[t],a={name:t,side:this.side};function s(t,r){if(!a[t]){var s,i,o=e.getTextureParams(r,a),n=e.loadTexture((s=e.baseUrl,"string"!=typeof(i=o.url)||""===i?"":/^https?:\/\//i.test(i)?i:s+i));n.repeat.copy(o.scale),n.offset.copy(o.offset),n.wrapS=e.wrap,n.wrapT=e.wrap,a[t]=n}}for(var i in r){var o,n=r[i];if(""!==n)switch(i.toLowerCase()){case"kd":a.color=(new THREE.Color).fromArray(n);break;case"ks":a.specular=(new THREE.Color).fromArray(n);break;case"map_kd":s("map",n);break;case"map_ks":s("specularMap",n);break;case"norm":s("normalMap",n);break;case"map_bump":case"bump":s("bumpMap",n);break;case"ns":a.shininess=parseFloat(n);break;case"d":(o=parseFloat(n))<1&&(a.opacity=o,a.transparent=!0);break;case"tr":(o=parseFloat(n))>0&&(a.opacity=1-o,a.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(a),this.materials[t]},getTextureParams:function(t,e){var r,a={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},s=t.split(/\s+/);return(r=s.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(s[r+1]),s.splice(r,2)),(r=s.indexOf("-s"))>=0&&(a.scale.set(parseFloat(s[r+1]),parseFloat(s[r+2])),s.splice(r,4)),(r=s.indexOf("-o"))>=0&&(a.offset.set(parseFloat(s[r+1]),parseFloat(s[r+2])),s.splice(r,4)),a.url=s.join(" ").trim(),a},loadTexture:function(t,e,r,a,s){var i,o=THREE.Loader.Handlers.get(t),n=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===o&&(o=new THREE.TextureLoader(n)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin),i=o.load(t,r,a,s),void 0!==e&&(i.mapping=e),i}}}});
//# sourceMappingURL=mtlloader.js.map