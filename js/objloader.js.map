{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/assets/objloader.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","THREE","OBJLoader","object_pattern","material_library_pattern","material_use_pattern","ParserState","state","objects","vertices","normals","uvs","materialLibraries","startObject","fromDeclaration","this","previousMaterial","currentMaterial","undefined","_finalize","geometry","materials","smooth","startMaterial","libraries","previous","inherited","groupCount","splice","index","material","length","mtllib","Array","isArray","groupStart","groupEnd","clone","cloned","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","src","dst","addVertexLine","addNormal","addUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","uvLen","nLen","addLineGeometry","type","vi","uvi","manager","DefaultLoadingManager","constructor","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","text","parse","setMaterials","console","time","indexOf","replace","lines","split","line","lineFirstChar","result","trimLeft","trim","charAt","data","parseFloat","vertexData","substr","faceVertices","j","jl","vertex","vertexParts","v1","v2","v3","lineParts","substring","lineVertices","lineUVs","li","llen","parts","exec","test","Error","toLowerCase","container","Group","concat","isLine","buffergeometry","BufferGeometry","addAttribute","BufferAttribute","Float32Array","computeVertexNormals","mesh","createdMaterials","miLen","sourceMaterial","LineBasicMaterial","materialLine","copy","MeshPhongMaterial","flatShading","addGroup","LineSegments","Mesh","add","timeEnd"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,mCC9EAC,MAAMC,UAAc,WAGnB,IAAIC,EAA2B,gBAE3BC,EAA2B,WAE3BC,EAA2B,WAE/B,SAASC,IAER,IAAIC,EAAQ,CACXC,QAAW,GACXb,OAAW,GAEXc,SAAW,GACXC,QAAW,GACXC,IAAW,GAEXC,kBAAoB,GAEpBC,YAAa,SAAWrC,EAAMsC,GAI7B,GAAKC,KAAKpB,SAA0C,IAAhCoB,KAAKpB,OAAOmB,gBAI/B,OAFAC,KAAKpB,OAAOnB,KAAOA,OACnBuC,KAAKpB,OAAOmB,iBAAwC,IAApBA,GAKjC,IAAIE,EAAqBD,KAAKpB,QAAiD,mBAAhCoB,KAAKpB,OAAOsB,gBAAiCF,KAAKpB,OAAOsB,uBAAoBC,EAqH5H,GAnHKH,KAAKpB,QAA2C,mBAA1BoB,KAAKpB,OAAOwB,WAEtCJ,KAAKpB,OAAOwB,WAAW,GAIxBJ,KAAKpB,OAAS,CACbnB,KAAOA,GAAQ,GACfsC,iBAAwC,IAApBA,EAEpBM,SAAW,CACVX,SAAW,GACXC,QAAW,GACXC,IAAW,IAEZU,UAAY,GACZC,QAAS,EAETC,cAAe,SAAW/C,EAAMgD,GAE/B,IAAIC,EAAWV,KAAKI,WAAW,GAI1BM,IAAcA,EAASC,WAAaD,EAASE,YAAc,IAE/DZ,KAAKM,UAAUO,OAAQH,EAASI,MAAO,GAIxC,IAAIC,EAAW,CACdD,MAAad,KAAKM,UAAUU,OAC5BvD,KAAaA,GAAQ,GACrBwD,OAAeC,MAAMC,QAASV,IAAeA,EAAUO,OAAS,EAAIP,EAAWA,EAAUO,OAAS,GAAM,GACxGT,YAA4BJ,IAAbO,EAAyBA,EAASH,OAASP,KAAKO,OAC/Da,gBAA4BjB,IAAbO,EAAyBA,EAASW,SAAW,EAC5DA,UAAc,EACdT,YAAc,EACdD,WAAa,EAEbW,MAAO,SAAWR,GACjB,IAAIS,EAAS,CACZT,MAAgC,iBAAVA,EAAqBA,EAAQd,KAAKc,MACxDrD,KAAauC,KAAKvC,KAClBwD,OAAajB,KAAKiB,OAClBV,OAAaP,KAAKO,OAClBa,WAAa,EACbC,UAAc,EACdT,YAAc,EACdD,WAAa,GAGd,OADAY,EAAOD,MAAQtB,KAAKsB,MAAM5C,KAAK6C,GACxBA,IAMT,OAFAvB,KAAKM,UAAUkB,KAAMT,GAEdA,GAIRb,gBAAiB,WAEhB,GAAKF,KAAKM,UAAUU,OAAS,EAC5B,OAAOhB,KAAKM,UAAWN,KAAKM,UAAUU,OAAS,IAOjDZ,UAAW,SAAWqB,GAErB,IAAIC,EAAoB1B,KAAKE,kBAU7B,GATKwB,IAAqD,IAAhCA,EAAkBL,WAE3CK,EAAkBL,SAAWrB,KAAKK,SAASX,SAASsB,OAAS,EAC7DU,EAAkBd,WAAac,EAAkBL,SAAWK,EAAkBN,WAC9EM,EAAkBf,WAAY,GAK1Bc,GAAOzB,KAAKM,UAAUU,OAAS,EAEnC,IAAM,IAAIW,EAAK3B,KAAKM,UAAUU,OAAS,EAAGW,GAAM,EAAGA,IAC7C3B,KAAKM,UAAWqB,GAAKf,YAAc,GACvCZ,KAAKM,UAAUO,OAAQc,EAAI,GAgB9B,OATKF,GAAiC,IAA1BzB,KAAKM,UAAUU,QAE1BhB,KAAKM,UAAUkB,KAAK,CACnB/D,KAAS,GACT8C,OAASP,KAAKO,SAKTmB,IAWJzB,GAAoBA,EAAiBxC,MAA0C,mBAA3BwC,EAAiBqB,MAAuB,CAEhG,IAAIM,EAAW3B,EAAiBqB,MAAO,GACvCM,EAASjB,WAAY,EACrBX,KAAKpB,OAAO0B,UAAUkB,KAAMI,GAI7B5B,KAAKP,QAAQ+B,KAAMxB,KAAKpB,SAIzBiD,SAAU,WAEJ7B,KAAKpB,QAA2C,mBAA1BoB,KAAKpB,OAAOwB,WAEtCJ,KAAKpB,OAAOwB,WAAW,IAMzB0B,iBAAkB,SAAW3D,EAAO4D,GAEnC,IAAIjB,EAAQkB,SAAU7D,EAAO,IAC7B,OAAsD,GAA7C2C,GAAS,EAAIA,EAAQ,EAAIA,EAAQiB,EAAM,IAIjDE,iBAAkB,SAAW9D,EAAO4D,GAEnC,IAAIjB,EAAQkB,SAAU7D,EAAO,IAC7B,OAAsD,GAA7C2C,GAAS,EAAIA,EAAQ,EAAIA,EAAQiB,EAAM,IAIjDG,aAAc,SAAW/D,EAAO4D,GAE/B,IAAIjB,EAAQkB,SAAU7D,EAAO,IAC7B,OAAsD,GAA7C2C,GAAS,EAAIA,EAAQ,EAAIA,EAAQiB,EAAM,IAIjDI,UAAW,SAAWC,EAAGC,EAAG9E,GAE3B,IAAI+E,EAAMtC,KAAKN,SACX6C,EAAMvC,KAAKpB,OAAOyB,SAASX,SAE/B6C,EAAIf,KAAMc,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IAC/CG,EAAIf,KAAMc,EAAKD,EAAI,GAAKC,EAAKD,EAAI,GAAKC,EAAKD,EAAI,IAC/CE,EAAIf,KAAMc,EAAK/E,EAAI,GAAK+E,EAAK/E,EAAI,GAAK+E,EAAK/E,EAAI,KAIhDiF,cAAe,SAAWJ,GAEzB,IAAIE,EAAMtC,KAAKN,SACLM,KAAKpB,OAAOyB,SAASX,SAE3B8B,KAAMc,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,KAIhDK,UAAW,SAAWL,EAAGC,EAAG9E,GAE3B,IAAI+E,EAAMtC,KAAKL,QACX4C,EAAMvC,KAAKpB,OAAOyB,SAASV,QAE/B4C,EAAIf,KAAMc,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IAC/CG,EAAIf,KAAMc,EAAKD,EAAI,GAAKC,EAAKD,EAAI,GAAKC,EAAKD,EAAI,IAC/CE,EAAIf,KAAMc,EAAK/E,EAAI,GAAK+E,EAAK/E,EAAI,GAAK+E,EAAK/E,EAAI,KAIhDmF,MAAO,SAAWN,EAAGC,EAAG9E,GAEvB,IAAI+E,EAAMtC,KAAKJ,IACX2C,EAAMvC,KAAKpB,OAAOyB,SAAST,IAE/B2C,EAAIf,KAAMc,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IACjCG,EAAIf,KAAMc,EAAKD,EAAI,GAAKC,EAAKD,EAAI,IACjCE,EAAIf,KAAMc,EAAK/E,EAAI,GAAK+E,EAAK/E,EAAI,KAIlCoF,UAAW,SAAWP,GAErB,IAAIE,EAAMtC,KAAKJ,IACLI,KAAKpB,OAAOyB,SAAST,IAE3B4B,KAAMc,EAAKF,EAAI,GAAKE,EAAKF,EAAI,KAIlCQ,QAAS,SAAWR,EAAGC,EAAG9E,EAAGsF,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEhD,IAAIC,EAAOnD,KAAKN,SAASsB,OAErBoC,EAAKpD,KAAK8B,iBAAkBM,EAAGe,GAC/BE,EAAKrD,KAAK8B,iBAAkBO,EAAGc,GAC/BG,EAAKtD,KAAK8B,iBAAkBvE,EAAG4F,GAInC,GAFAnD,KAAKmC,UAAWiB,EAAIC,EAAIC,QAEZnD,IAAP0C,EAAmB,CAEvB,IAAIU,EAAQvD,KAAKJ,IAAIoB,OAErBoC,EAAKpD,KAAKkC,aAAcW,EAAIU,GAC5BF,EAAKrD,KAAKkC,aAAcY,EAAIS,GAC5BD,EAAKtD,KAAKkC,aAAca,EAAIQ,GAE5BvD,KAAK0C,MAAOU,EAAIC,EAAIC,GAIrB,QAAYnD,IAAP6C,EAAmB,CAGvB,IAAIQ,EAAOxD,KAAKL,QAAQqB,OACxBoC,EAAKpD,KAAKiC,iBAAkBe,EAAIQ,GAEhCH,EAAKL,IAAOC,EAAKG,EAAKpD,KAAKiC,iBAAkBgB,EAAIO,GACjDF,EAAKN,IAAOE,EAAKE,EAAKpD,KAAKiC,iBAAkBiB,EAAIM,GAEjDxD,KAAKyC,UAAWW,EAAIC,EAAIC,KAM1BG,gBAAiB,SAAW/D,EAAUE,GAErCI,KAAKpB,OAAOyB,SAASqD,KAAO,OAK5B,IAHA,IAAIP,EAAOnD,KAAKN,SAASsB,OACrBuC,EAAQvD,KAAKJ,IAAIoB,OAEX2C,EAAK,EAAGxG,EAAIuC,EAASsB,OAAQ2C,EAAKxG,EAAGwG,IAE9C3D,KAAKwC,cAAexC,KAAK8B,iBAAkBpC,EAAUiE,GAAMR,IAItD,IAAIS,EAAM,EAAhB,IAAmBzG,EAAIyC,EAAIoB,OAAQ4C,EAAMzG,EAAGyG,IAE3C5D,KAAK2C,UAAW3C,KAAKkC,aAActC,EAAKgE,GAAOL,MAUlD,OAFA/D,EAAMM,YAAa,IAAI,GAEhBN,EAMR,SAASL,EAAW0E,GAEnB7D,KAAK6D,aAAwB1D,IAAZ0D,EAA0BA,EAAU3E,MAAM4E,sBAE3D9D,KAAKM,UAAY,KA2VlB,OAvVAnB,EAAUL,UAAY,CAErBiF,YAAa5E,EAEb6E,KAAM,SAAWC,EAAKC,EAAQC,EAAYC,GAEzC,IAAIC,EAAQrE,KAERsE,EAAS,IAAIpF,MAAMqF,WAAYF,EAAMR,SACzCS,EAAOE,QAASxE,KAAKyE,MACrBH,EAAON,KAAMC,EAAK,SAAWS,GAE5BR,EAAQG,EAAMM,MAAOD,KAEnBP,EAAYC,IAIhBI,QAAS,SAAWrG,GAEnB6B,KAAKyE,KAAOtG,GAIbyG,aAAc,SAAWtE,GAIxB,OAFAN,KAAKM,UAAYA,EAEVN,MAIR2E,MAAO,SAAWD,GAEjBG,QAAQC,KAAM,aAEd,IAAItF,EAAQ,IAAID,GAEkB,IAA7BmF,EAAKK,QAAS,UAGlBL,EAAOA,EAAKM,QAAS,QAAS,QAIG,IAA7BN,EAAKK,QAAS,UAGlBL,EAAOA,EAAKM,QAAS,QAAS,KAY/B,IARA,IAAIC,EAAQP,EAAKQ,MAAO,MACpBC,EAAO,GAAIC,EAAgB,GAE3BC,EAAS,GAGTC,EAAoC,kBAAhB,GAAGA,SAEjBpI,EAAI,EAAGC,EAAI8H,EAAMjE,OAAQ9D,EAAIC,EAAGD,IAQzC,GANAiI,EAAOF,EAAO/H,GAMM,KAJpBiI,EAAOG,EAAWH,EAAKG,WAAaH,EAAKI,QAEvBvE,QAOK,OAHvBoE,EAAgBD,EAAKK,OAAQ,IAK7B,GAAuB,MAAlBJ,EAAwB,CAE5B,IAAIK,EAAON,EAAKD,MAAO,OAEvB,OAASO,EAAM,IAEd,IAAK,IACJjG,EAAME,SAAS8B,KACdkE,WAAYD,EAAM,IAClBC,WAAYD,EAAM,IAClBC,WAAYD,EAAM,KAEnB,MACD,IAAK,KACJjG,EAAMG,QAAQ6B,KACbkE,WAAYD,EAAM,IAClBC,WAAYD,EAAM,IAClBC,WAAYD,EAAM,KAEnB,MACD,IAAK,KACJjG,EAAMI,IAAI4B,KACTkE,WAAYD,EAAM,IAClBC,WAAYD,EAAM,WAKf,GAAuB,MAAlBL,EAAwB,CAQnC,IANA,IACIO,EADWR,EAAKS,OAAQ,GAAIL,OACNL,MAAO,OAC7BW,EAAe,GAITC,EAAI,EAAGC,EAAKJ,EAAW3E,OAAQ8E,EAAIC,EAAID,IAAO,CAEvD,IAAIE,EAASL,EAAYG,GAEzB,GAAKE,EAAOhF,OAAS,EAAI,CAExB,IAAIiF,EAAcD,EAAOd,MAAO,KAChCW,EAAarE,KAAMyE,IAQrB,IAAIC,EAAKL,EAAc,GAEvB,IAAUC,EAAI,EAAGC,EAAKF,EAAa7E,OAAS,EAAG8E,EAAIC,EAAID,IAAO,CAE7D,IAAIK,EAAKN,EAAcC,GACnBM,EAAKP,EAAcC,EAAI,GAE3BtG,EAAMoD,QACLsD,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,UAKlB,GAAuB,MAAlBhB,EAAwB,CAEnC,IAAIiB,EAAYlB,EAAKmB,UAAW,GAAIf,OAAOL,MAAO,KAC9CqB,EAAe,GAAIC,EAAU,GAEjC,IAA+B,IAA1BrB,EAAKJ,QAAS,KAElBwB,EAAeF,OAIf,IAAM,IAAII,EAAK,EAAGC,EAAOL,EAAUrF,OAAQyF,EAAKC,EAAMD,IAAQ,CAE7D,IAAIE,EAAQN,EAAWI,GAAKvB,MAAO,KAEf,KAAfyB,EAAO,IAAaJ,EAAa/E,KAAMmF,EAAO,IAC/B,KAAfA,EAAO,IAAaH,EAAQhF,KAAMmF,EAAO,IAKhDnH,EAAMiE,gBAAiB8C,EAAcC,QAE/B,GAAkD,QAA3CnB,EAASjG,EAAewH,KAAMzB,IAAoB,CAQ/D,IAAI1H,GAAS,IAAM4H,EAAQ,GAAIO,OAAQ,GAAIL,QAASK,OAAQ,GAE5DpG,EAAMM,YAAarC,QAEb,GAAK6B,EAAqBuH,KAAM1B,GAItC3F,EAAMZ,OAAO4B,cAAe2E,EAAKmB,UAAW,GAAIf,OAAQ/F,EAAMK,wBAExD,GAAKR,EAAyBwH,KAAM1B,GAI1C3F,EAAMK,kBAAkB2B,KAAM2D,EAAKmB,UAAW,GAAIf,YAE5C,IAAuB,MAAlBH,EAsCL,CAGN,GAAc,OAATD,EAAgB,SAErB,MAAM,IAAI2B,MAAO,qBAAuB3B,EAAQ,KAnBhD,IAtBAE,EAASF,EAAKD,MAAO,MAsBTlE,OAAS,EAAI,CAExB,IAAI7C,EAAQkH,EAAQ,GAAIE,OAAOwB,cAC/BvH,EAAMZ,OAAO2B,OAAqB,MAAVpC,GAA2B,QAAVA,OAKzCqB,EAAMZ,OAAO2B,QAAS,GAGnBQ,EAAWvB,EAAMZ,OAAOsB,qBACZa,EAASR,OAASf,EAAMZ,OAAO2B,QAajDf,EAAMqC,WAEN,IAAImF,EAAY,IAAI9H,MAAM+H,MAC1BD,EAAUnH,kBAAoB,GAAGqH,OAAQ1H,EAAMK,mBAE/C,IAAU3C,EAAI,EAAGC,EAAIqC,EAAMC,QAAQuB,OAAQ9D,EAAIC,EAAGD,IAAO,CAExD,IAAI0B,EAASY,EAAMC,QAASvC,GACxBmD,EAAWzB,EAAOyB,SAClBC,EAAY1B,EAAO0B,UACnB6G,EAA6B,SAAlB9G,EAASqD,KAGxB,GAAkC,IAA7BrD,EAASX,SAASsB,OAAvB,CAEA,IAAIoG,EAAiB,IAAIlI,MAAMmI,eAE/BD,EAAeE,aAAc,WAAY,IAAIpI,MAAMqI,gBAAiB,IAAIC,aAAcnH,EAASX,UAAY,IAEtGW,EAASV,QAAQqB,OAAS,EAE9BoG,EAAeE,aAAc,SAAU,IAAIpI,MAAMqI,gBAAiB,IAAIC,aAAcnH,EAASV,SAAW,IAIxGyH,EAAeK,uBAIXpH,EAAST,IAAIoB,OAAS,GAE1BoG,EAAeE,aAAc,KAAM,IAAIpI,MAAMqI,gBAAiB,IAAIC,aAAcnH,EAAST,KAAO,IAQjG,IAFA,IAqCI8H,EArCAC,EAAmB,GAEbhG,EAAK,EAAGiG,EAAQtH,EAAUU,OAAQW,EAAKiG,EAAQjG,IAAO,CAE/D,IAAIkG,EAAiBvH,EAAWqB,GAC5BZ,OAAWZ,EAEf,GAAwB,OAAnBH,KAAKM,YAETS,EAAWf,KAAKM,UAAU9B,OAAQqJ,EAAepK,MAG5C0J,GAAUpG,KAAgBA,aAAoB7B,MAAM4I,oBAAsB,CAE9E,IAAIC,EAAe,IAAI7I,MAAM4I,kBAC7BC,EAAaC,KAAMjH,GACnBA,EAAWgH,EAMNhH,KAENA,EAAeoG,EAAyC,IAAIjI,MAAM4I,kBAA1C,IAAI5I,MAAM+I,mBACzBxK,KAAOoK,EAAepK,MAIhCsD,EAASmH,aAAcL,EAAetH,OAEtCoH,EAAiBnG,KAAKT,GAQvB,GAAK4G,EAAiB3G,OAAS,EAAI,CAElC,IAAUW,EAAK,EAAGiG,EAAQtH,EAAUU,OAAQW,EAAKiG,EAAQjG,IAAO,CAE3DkG,EAAiBvH,EAAWqB,GAChCyF,EAAee,SAAUN,EAAezG,WAAYyG,EAAejH,WAAYe,GAIhF+F,EAAWP,EAA8D,IAAIjI,MAAMkJ,aAAchB,EAAgBO,GAA7F,IAAIzI,MAAMmJ,KAAMjB,EAAgBO,QAIpDD,EAAWP,EAAmE,IAAIjI,MAAMkJ,aAAchB,EAAgBO,EAAkB,IAApH,IAAIzI,MAAMmJ,KAAMjB,EAAgBO,EAAkB,IAGvED,EAAKjK,KAAOmB,EAAOnB,KAEnBuJ,EAAUsB,IAAKZ,IAMhB,OAFA7C,QAAQ0D,QAAS,aAEVvB,IAMF7H,EAvpBY","file":"./js/objloader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern           = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern     = /^usemtl /;\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects  : [],\r\n\t\t\tobject   : {},\r\n\r\n\t\t\tvertices : [],\r\n\t\t\tnormals  : [],\r\n\t\t\tuvs      : [],\r\n\r\n\t\t\tmaterialLibraries : [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname : name || '',\r\n\t\t\t\t\tfromDeclaration : ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry : {\r\n\t\t\t\t\t\tvertices : [],\r\n\t\t\t\t\t\tnormals  : [],\r\n\t\t\t\t\t\tuvs      : []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials : [],\r\n\t\t\t\t\tsmooth : true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex      : this.materials.length,\r\n\t\t\t\t\t\t\tname       : name || '',\r\n\t\t\t\t\t\t\tmtllib     : ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth     : ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart : ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\tinherited  : false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex      : ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname       : this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib     : this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth     : this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart : 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\t\t\tinherited  : false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === -1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi-- ) {\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push({\r\n\t\t\t\t\t\t\t\tname   : '',\r\n\t\t\t\t\t\t\t\tsmooth : this.smooth\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\r\n\t\t\t\tif ( ua !== undefined ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( na !== undefined ) {\r\n\r\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\r\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t};\r\n\r\n\tOBJLoader.prototype = {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetPath: function ( value ) {\r\n\r\n\t\t\tthis.path = value;\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tconsole.time( 'OBJLoader' );\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tthrow new Error( \"Unexpected line: '\" + line  + \"'\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new THREE.Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( geometry.vertices ), 3 ) );\r\n\r\n\t\t\t\tif ( geometry.normals.length > 0 ) {\r\n\r\n\t\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( geometry.normals ), 3 ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.uvs.length > 0 ) {\r\n\r\n\t\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.BufferAttribute( new Float32Array( geometry.uvs ), 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar material = undefined;\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\r\n\t\t\t\t\t\t\tmaterialLine.copy( material );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ! material ) {\r\n\r\n\t\t\t\t\t\tmaterial = ( ! isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial() );\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\r\n\t\t\t\t\tcreatedMaterials.push(material);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials ) : new THREE.LineSegments( buffergeometry, createdMaterials ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] ) : new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconsole.timeEnd( 'OBJLoader' );\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();"],"sourceRoot":""}